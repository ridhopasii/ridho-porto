<footer class="py-8 border-t border-white/5">
    <div class="max-w-7xl mx-auto px-6 lg:px-8">
        <div class="flex flex-col sm:flex-row items-center justify-between gap-4">
            <div class="flex items-center gap-2">
                <span class="font-outfit font-bold text-xl">Hafidz<span class="text-accent">.</span></span>
            </div>

            <p class="text-sm text-gray-500">
                Â© <%= new Date().getFullYear() %>
                    <%= profile?.fullName || 'Hafidz Humaidi' %>. All rights reserved.
            </p>

            <div class="flex items-center gap-4">
                <% socials.forEach(social=> { %>
                    <a href="<%= social.url %>" target="_blank"
                        class="text-gray-500 hover:text-accent transition-colors">
                        <i data-lucide="<%= social.icon %>" class="w-5 h-5"></i>
                    </a>
                    <% }) %>
            </div>
        </div>
    </div>
</footer>

<!-- JavaScript -->
<script>
    try { lucide.createIcons(); } catch (e) {}

    (function () {
        const typingElement = document.getElementById('typing-text');
        if (typingElement) {
            const texts = [
                '<%= (profile && profile.bio) ? profile.bio.replace(/\"/g, "\\\"") : "Saya membantu bisnis dan individu mengubah ide menjadi pengalaman digital yang menakjubkan." %>'
            ];
            let textIndex = 0;
            let charIndex = 0;
            let isDeleting = false;
            function type() {
                const currentText = texts[textIndex];
                if (isDeleting) {
                    typingElement.textContent = currentText.substring(0, charIndex - 1);
                    charIndex--;
                } else {
                    typingElement.textContent = currentText.substring(0, charIndex + 1);
                    charIndex++;
                }
                if (!isDeleting && charIndex === currentText.length) {
                    isDeleting = false;
                    return;
                }
                setTimeout(type, isDeleting ? 30 : 50);
            }
            setTimeout(type, 1000);
        }
    })();

    (function () {
        const navbar = document.getElementById('navbar');
        if (navbar) {
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    navbar.classList.add('nav-scrolled');
                } else {
                    navbar.classList.remove('nav-scrolled');
                }
            });
        }
    })();

    (function () {
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        if (mobileMenuBtn && mobileMenu) {
            mobileMenuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
            mobileMenu.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenu.classList.add('hidden');
                });
            });
        }
    })();

    (function () {
        const legacyContactForm = document.getElementById('contact-form');
        if (legacyContactForm) {
            legacyContactForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const btn = e.target.querySelector('button');
                const originalText = btn ? btn.innerHTML : '';
                if (btn) {
                    btn.innerHTML = '<span>Terkirim!</span> <i data-lucide="check" class="w-4 h-4"></i>';
                    btn.classList.add('bg-green-500', 'text-white');
                }
                setTimeout(() => {
                    if (btn) {
                        btn.innerHTML = originalText;
                        btn.classList.remove('bg-green-500', 'text-white');
                    }
                    e.target.reset();
                    alert('Pesan berhasil dikirim! Saya akan menghubungi Anda segera.');
                }, 2000);
            });
        }
    })();

    (function () {
        const revealElements = document.querySelectorAll('.tech-card, .project-card, .contact-card');
        if (revealElements.length) {
            const revealObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, { threshold: 0.1 });
            revealElements.forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(20px)';
                el.style.transition = 'all 0.6s ease';
                revealObserver.observe(el);
            });
        }
    })();
</script>
</body>

</html>
